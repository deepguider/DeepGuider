%YAML:1.0
---
## Activate/deactivate submodules
enable_360cam: 0  # not required.
enable_360cam_crop: 0
enable_intersection: 0
enable_ocr: 0    # 0: disable, 1: run as internal module, 2: run as external ros node 
enable_vps: 0    # 0: disable, 1: run as internal module, 2: run as external ros node
enable_roadlr: 0
enable_roadtheta: 0
enable_exploration: 0
enable_logo: 0
enable_imu: 0
enable_odometry: 1
enable_mapserver: 0    # 0: use saved offline map, 1: online mapserver

## Main Options
site_index: 4            # 0: ETRI, 1: COEX, 2: Bucheon, 3: TEST_ETRI, 4: TEST_COEX, 5:TEST_ETRI_INDOOR, 6:ETRI_EXTENDED, 7:TEST_COEX_INOUT, 8:Bucheon_KETI, 9:"COEX_KETI" ...
site_names: ["ETRI", "COEX", "Bucheon", "TEST_ETRI", "TEST_COEX", "TEST_ETRI_INDOOR", "ETRI_EXTENDED", "TEST_COEX_INOUT", "Bucheon_KETI", "COEX_KETI"]
server_ip_index: 1          # 0: 127.0.0.1, 1: 129.254.81.204, ...
server_ip_list: ["127.0.0.1", "129.254.81.204"]
image_server_port: "10000"  # etri: 10000, coex: 10001, bucheon: 10002, etri_indoor: 10003
topic_name_index: 0         # 0: ETRI CART_VER2_ANDROIDGPS, 1: ETRI CART_VER2, 2:KETI ROBOT
topic_names_set: ["ETRI_CART_VER2_ANDROIDGPS", "ETRI_CART_VER2", "KETI_ROBOT", "ETRI_CART_VER1"]
robot_site_index: 0      #0:"Bucheon_KETI", 1:"COEX_KETI"
robot_site_set: ["Bucheon_KETI", "COEX_KETI"]

dg_srcdir: "/home/dgtest/deepguider/src"  # path of deepguider/src folder (required for python embedding)
enable_tts: 1
threaded_run_modules: 1
use_high_precision_gps: 0   # 0: asen gps, 1: Novatel gps
ros_update_hz: 10

## Other Configurations
video_recording: 0
video_recording_fps: 15
recording_header_name: "dg_ros_"

## VPS Specific Options
vps_load_dbfeat: 0
vps_save_dbfeat: 0
vps_use_custom_image_server: 0   # 0 (default) to use naver roadview, 1 to use custom images for database images
vps_gps_accuracy: 0.9  # Constant gps accuracy related to search range. In streetview image server, download_radius = int(10 + 190*(1-vps_gps_accuracy)) , 1:10m, 0.95:20m, 0.9:29m, 0.79:50, 0.0:200 meters
vps_enable_mcl: 0

## Odometry Specific Options
enable_simulated_encoder: 0
encoder_update_hz: 20
odometry_update_hz: 10
odometry_debug_print: 0
odometry_debug_window: 0

## Topic Names Set
ETRI_CART_VER2_ANDROIDGPS:
  topic_360cam: "/theta360z1_raw"
  topic_360cam_crop: "/theta360z1_crop"
  topic_cam: "/uvc_camera/image_raw/compressed"
  topic_gps: "/andro2linux_gps"
  topic_odo: "/dg_odometry/pose"
  #topic_dgps: "/gps/fix"
  #topic_imu: "/imu/data"
  #topic_rgbd_image: "/camera/color/image_raw/compressed"
  #topic_rgbd_depth: "/camera/depth/image_rect_raw/compressed"

ETRI_CART_VER2:
  topic_360cam: "/theta360z1_raw"
  topic_360cam_crop: "/theta360z1_crop"
  topic_cam: "/uvc_camera/image_raw/compressed"
  topic_gps: "/ascen_gps/fix"
  topic_odo: "/dg_odometry/pose"
  #topic_dgps: "/gps/fix"
  #topic_imu: "/imu/data"
  #topic_rgbd_image: "/camera/color/image_raw/compressed"
  #topic_rgbd_depth: "/camera/depth/image_rect_raw/compressed"

ETRI_CART_VER1:
  topic_360cam: "/theta360z1_raw"
  topic_360cam_crop: "/theta360z1_crop"
  topic_cam: "/uvc_image_raw/compressed"
  topic_gps: "/ascen_fix"
  #topic_dgps: "/novatel_fix"
  #topic_imu: "/imu/data"
  #topic_rgbd_image: "/camera/color/image_raw/compressed"
  #topic_rgbd_depth: "/camera/depth/image_rect_raw/compressed"

KETI_ROBOT:
  topic_360cam: "/theta360z1_raw"
  topic_360cam_crop: "/theta360z1_crop"
  topic_cam: "/usb_cam_1/image_raw/compressed"
  topic_gps: "/fix" #"/andro2linux_gps" 
  #topic_dgps: ""
  #topic_imu: "/gx5/imu/data"
  #topic_rgbd_image: "/rs_front_camera1/color/image_raw/compressed"
  #topic_rgbd_depth: "/rs_front_camera1/aligned_depth_to_color/image_raw/compressed"

## Pre-defined Site Settings

ETRI_EXTENDED:
  map_image_path: "data/ETRI/NaverMap_ETRI(Satellite)_large.png"
  map_data_path: "data/ETRI/TopoMap_ETRI.csv"
  map_ref_point_latlon: [36.379208, 127.364585]
  map_ref_point_pixel: [3790, 3409]
  map_pixel_per_meter: 2.081
  map_image_rotation: 0.96
  map_view_offset: [3705, 1745]
  map_view_size: [1920, 1080]
  image_server_port: "10000"
  gps_input_path: "data/ETRI/191115_151140_ascen_fix.csv"
  video_input_path: "data/ETRI/191115_151140_images.avi"

TEST_ETRI:
  map_image_path: "data/ETRI/NaverMap_ETRI(Satellite).png"
  map_data_path: "data/ETRI/TopoMap_ETRI.csv"
  map_ref_point_latlon: [36.379208, 127.364585]
  map_ref_point_pixel: [1344, 1371]
  map_pixel_per_meter: 1.2474
  map_image_rotation: 0.95
  map_view_offset: [1289, 371]
  map_view_size: [1800, 1012]
  image_server_port: "10000"
  gps_input_path: "data/ETRI/191115_151140_ascen_fix.csv"
  video_input_path: "data/ETRI/191115_151140_images.avi"

TEST_ETRI_INDOOR:
  map_image_path: "data/ETRI/ETRI_Indoor_7F.png"
  map_data_path: "data/ETRI/TopoMap_ETRI.csv"
  map_ref_point_latlon: [36.380199, 127.367873]
  map_ref_point_pixel: [860, 497]
  map_pixel_per_meter: 16.7
  map_image_rotation: 0.95
  map_view_offset: [1289, 371]
  map_view_size: [1800, 1012]
  map_view_bottom_padding: 305
  image_server_port: "10003"
  gps_input_path: ""
  video_input_path: ""
  vps_load_dbfeat: 1
  vps_save_dbfeat: 0
  
TEST_COEX:
  map_image_path: "data/COEX/NaverMap_COEX(Satellite).png"
  map_data_path: "data/COEX/TopoMap_COEX.csv"
  map_ref_point_latlon: [37.506994, 127.056676]
  map_ref_point_pixel: [1373, 2484]
  map_pixel_per_meter: 2.536
  map_image_rotation: 1.0
  map_view_offset: [1010, 300]
  map_view_size: [1920, 1080]
  image_server_port: "10001"
  gps_input_path: "data/COEX/211005_130940_ascen_fix.csv"
  video_input_path: "data/COEX/211005_130940_images.avi"   

TEST_COEX_INOUT:
  map_image_path: "data/COEX/NaverMap_COEX(Satellite).png"
  map_data_path: "data/COEX/TopoMap_COEX.csv"
  map_ref_point_latlon: [37.506994, 127.056676]
  map_ref_point_pixel: [1373, 2484]
  map_pixel_per_meter: 2.536
  map_image_rotation: 1.0
  map_view_offset: [1010, 300]
  map_view_size: [1920, 1080]
  image_server_port: "10004"
  gps_input_path: "data/COEX/211005_130940_ascen_fix.csv"
  video_input_path: "data/COEX/211005_130940_images.avi"   
  vps_load_dbfeat: 1
  vps_save_dbfeat: 0
  vps_use_custom_image_server: 1   # 0 (default) to use naver roadview, 1 to use custom images for database images

ETRI:
  map_image_path: "data/NaverMap_ETRI(Satellite)_191127.png"
  map_data_path: "data/ETRI/TopoMap_ETRI.csv"
  map_ref_point_latlon: [36.3838376, 127.3678808]
  map_ref_point_pixel: [347, 297]
  map_pixel_per_meter: 1.039
  map_image_rotation: 1.0
  image_server_port: "10000"
  gps_input_path: "data/191115_ETRI_asen_fix.csv"
  video_input_path: "data/191115_ETRI.avi"

COEX:
  map_image_path: "data/NaverMap_COEX(Satellite)_200929.png"
  map_data_path: "data/COEX/TopoMap_COEX.csv"
  map_ref_point_latlon: [37.506207, 127.05482]
  map_ref_point_pixel: [1090, 1018]
  map_pixel_per_meter: 1.055
  map_image_rotation: 1.2
  image_server_port: "10001"
  gps_input_path: "data/200925_153949_AndroSensor.csv"
  video_input_path: ""

Bucheon:
  map_image_path: "data/NaverMap_Bucheon(Satellite).png" 
  map_data_path: "data/Bucheon/TopoMap_Bucheon.csv"
  map_ref_point_latlon: [37.510928, 126.764344]
  map_ref_point_pixel: [1535, 1157]
  map_pixel_per_meter: 1.056
  map_image_rotation: 0
  map_view_offset: [652, 227]
  image_server_port: "10002"
  gps_input_path: "data/Sensor_record_20210513_Bucheon_AndroSensor.csv"
  video_input_path: ""

Bucheon_KETI:
  map_image_path: "data/Bucheon/bucheon_robotmap(flipudlr).png" 
  map_data_path: "data/Bucheon/TopoMap_Bucheon.csv"
  map_ref_point_latlon: [37.515838, 126.764309]
  map_ref_point_pixel: [2410, 5142]
  map_pixel_per_meter: 10.2
  map_image_rotation: 1.4
  map_view_offset: [752, 227]
  image_server_port: "10002"
  gps_input_path: "data/Sensor_record_20210513_Bucheon_AndroSensor.csv"
  video_input_path: ""
  robot_map_rotation: -90
  robot_map_origin: [3110, 2576]

COEX_KETI:
  map_image_path: "data/COEX/occumap_mcl(fliplr).png"
  map_data_path: "data/COEX/TopoMap_COEX_220725.csv"
  map_ref_point_latlon: [37.5105315, 127.0600675]
  map_ref_point_pixel: [4383, 10463]
  map_pixel_per_meter: 20.0
  map_image_rotation: -23.5
  image_server_port: "10001"
  gps_input_path: "data/200925_153949_AndroSensor.csv"
  video_input_path: ""
